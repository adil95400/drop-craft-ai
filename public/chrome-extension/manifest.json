{
  "manifest_version": 3,
  "name": "ShopOpti+ - Dropshipping Pro",
  "version": "5.7.0",
  "description": "Extension professionnelle dropshipping 100% AutoDS - Import 1-clic, Ads Spy, Auto-Order, Sourcing multi-fournisseurs, Sync multi-boutiques, 45+ plateformes support√©es",
  
  "permissions": [
    "activeTab",
    "storage",
    "scripting",
    "alarms",
    "notifications"
  ],
  
  "host_permissions": [
    "*://*.shopopti.io/*",
    "*://*.supabase.co/*",
    "*://*.amazon.com/*",
    "*://*.amazon.fr/*",
    "*://*.amazon.de/*",
    "*://*.amazon.co.uk/*",
    "*://*.amazon.es/*",
    "*://*.amazon.it/*",
    "*://*.amazon.ca/*",
    "*://*.amazon.co.jp/*",
    "*://*.aliexpress.com/*",
    "*://*.aliexpress.fr/*",
    "*://*.aliexpress.us/*",
    "*://*.ebay.com/*",
    "*://*.ebay.fr/*",
    "*://*.ebay.de/*",
    "*://*.ebay.co.uk/*",
    "*://*.temu.com/*",
    "*://*.shein.com/*",
    "*://*.shein.fr/*",
    "*://*.etsy.com/*"
  ],
  
  "optional_host_permissions": [
    "*://*.walmart.com/*",
    "*://*.wish.com/*",
    "*://*.banggood.com/*",
    "*://*.dhgate.com/*",
    "*://*.1688.com/*",
    "*://*.taobao.com/*",
    "*://*.cjdropshipping.com/*",
    "*://*.lightinthebox.com/*",
    "*://*.made-in-china.com/*",
    "*://*.cdiscount.com/*",
    "*://*.fnac.com/*",
    "*://*.rakuten.fr/*",
    "*://*.rakuten.com/*",
    "*://*.homedepot.com/*",
    "*://*.lowes.com/*",
    "*://*.costco.com/*",
    "*://*.darty.com/*",
    "*://*.boulanger.com/*",
    "*://*.manomano.fr/*",
    "*://*.leroymerlin.fr/*",
    "*://*.target.com/*",
    "*://*.bestbuy.com/*",
    "*://*.newegg.com/*",
    "*://*.overstock.com/*",
    "*://*.wayfair.com/*",
    "*://*.zalando.fr/*",
    "*://*.asos.com/*",
    "*://*.myshopify.com/*"
  ],
  
  "content_scripts": [
    {
      "matches": [
        "*://*.amazon.com/*",
        "*://*.amazon.fr/*",
        "*://*.amazon.de/*",
        "*://*.amazon.co.uk/*",
        "*://*.amazon.es/*",
        "*://*.amazon.it/*",
        "*://*.amazon.ca/*",
        "*://*.amazon.co.jp/*",
        "*://*.aliexpress.com/*",
        "*://*.aliexpress.fr/*",
        "*://*.aliexpress.us/*",
        "*://*.ebay.com/*",
        "*://*.ebay.fr/*",
        "*://*.ebay.de/*",
        "*://*.ebay.co.uk/*",
        "*://*.temu.com/*",
        "*://*.shein.com/*",
        "*://*.shein.fr/*",
        "*://*.etsy.com/*"
      ],
      "js": [
        "lib/remote-selectors.js",
        "lib/retry-manager.js",
        "lib/supplier-fallback.js",
        "lib/cost-calculator.js",
        "lib/base-extractor.js",
        "lib/platform-detector.js",
        "lib/variant-mapper.js",
        "lib/quality-scorer.js",
        "lib/product-validator.js",
        "lib/data-normalizer.js",
        "lib/extractor-bridge.js",
        "lib/extraction-orchestrator.js",
        "lib/import-pipeline.js",
        "lib/pre-import-dialog.js",
        "lib/unified-button-injector.js",
        "lib/bulk-import-queue.js",
        "lib/bulk-import-state-machine.js",
        "lib/quick-import-mode.js",
        "lib/enhanced-preview.js",
        "lib/simplified-popup-ui.js",
        "extractors/core-extractor.js",
        "extractors/extractor-registry.js",
        "extractors/amazon-extractor.js",
        "extractors/aliexpress-extractor.js",
        "extractors/ebay-extractor.js",
        "extractors/temu-extractor.js",
        "extractors/shein-extractor.js",
        "extractors/shopify-extractor.js",
        "extractors/etsy-extractor.js",
        "extractors/walmart-extractor.js",
        "extractors/cdiscount-extractor.js",
        "extractors/fnac-extractor.js",
        "extractors/rakuten-extractor.js",
        "extractors/cjdropshipping-extractor.js",
        "extractors/banggood-extractor.js",
        "extractors/dhgate-extractor.js",
        "extractors/wish-extractor.js",
        "extractors/homedepot-extractor.js",
        "extractors/tiktok-extractor.js",
        "advanced-scraper.js",
        "content-script.js"
      ],
      "run_at": "document_idle"
    }
  ],
  
  "content_security_policy": {
    "extension_pages": "default-src 'self'; connect-src 'self' https://*.supabase.co https://shopopti.io https://*.shopopti.io; img-src 'self' data: https: blob:; style-src 'self' 'unsafe-inline'; font-src 'self' data:"
  },
  
  "background": {
    "service_worker": "background.js",
    "type": "module"
  },
  
  "action": {
    "default_popup": "popup.html",
    "default_title": "ShopOpti+ - Dropshipping Pro",
    "default_icon": {
      "16": "icons/icon16.png",
      "32": "icons/icon32.png",
      "48": "icons/icon48.png",
      "128": "icons/icon128.png"
    }
  },
  
  "options_page": "options.html",
  
  "icons": {
    "16": "icons/icon16.png",
    "32": "icons/icon32.png",
    "48": "icons/icon48.png",
    "128": "icons/icon128.png"
  },
  
  "web_accessible_resources": [
    {
      "resources": [
        "content.css",
        "icons/*.png",
        "import-overlay-v2.js",
        "bulk-import-v5.js",
        "extractors/*.js",
        "lib/*.js"
      ],
      "matches": ["<all_urls>"]
    }
  ]
}
